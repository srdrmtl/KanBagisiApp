<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
         
         <p:growl id="growd" sticky="true"  showDetail="true"></p:growl>
        <h:form>
         
             <p:menubar>
           
             <p:menuitem value="Anasayfa" action="index?faces-redirect=true"/>
              <p:menuitem value="#{login.value1}" action="#{login.value1Control()}"/>
                           <c:forEach var="item" items="#{login.person}">
                 <p:menuitem containerStyle="float:right;"> <a style="color:red;float:right;">Hoşgeldiniz <p:outputLabel value="#{item.ad} #{item.soyad}"/></a></p:menuitem>
          </c:forEach>
        </p:menubar>
                  <c:forEach var="item" items="#{login.person}">
                      <h1> Sevgili <p:outputLabel value="#{item.ad} #{item.soyad}"/> bağışçı olduğunuz için teşekkür ediyoruz.</h1> 
          </c:forEach>
        </h:form>

        

        
        <p:accordionPanel>
<p:tab title="Bilgileriniz">

            <h:form>
           

             <c:forEach var="item" items="#{login.person}">
                 
                 <div><h:outputLabel>Adınız :</h:outputLabel>
            <p:inputText value='#{item.ad}' readonly="true"></p:inputText>
            
            <h:outputLabel>Soyadınız :</h:outputLabel>
            <p:inputText value='#{item.soyad}' readonly="true"></p:inputText></div>
            <div style="margin-top: 10px;">
                <h:outputLabel>E-mail :</h:outputLabel>
            <p:inputText value='#{item.mail}' readonly="true"></p:inputText>
            
            <h:outputLabel>  &ensp;&ensp;&ensp;Şehir :</h:outputLabel>
            <p:inputText value='#{item.sehir}' readonly="true"></p:inputText>
            </div>
                 
                 <div style="margin-top: 10px;">
                     
                     <h:outputLabel>Adres :</h:outputLabel>
                     <p:inputTextarea value='#{item.ad}' readonly="true"></p:inputTextarea>
                     <h:outputLabel>Kan Grubu :</h:outputLabel>
                     <p:inputText value="#{item.kanGrubu}"></p:inputText>
                 </div>
                 <div style="margin-top:10px">
                     <h:outputLabel>&ensp;Şifre :</h:outputLabel>
                     <p:inputText value="*****"></p:inputText>
                 </div>
                     

                 
             </c:forEach>
        </h:form>
</p:tab>
<p:tab title="Şifremi Değiştir">
    
     <h:form>
         <div style="margin-top: 10px">
             <h:outputLabel value="E-posta Adresinizi Giriniz :" />
             <p:inputText value="#{panel.email}"></p:inputText>
             
         </div>
    <div style="margin-top: 10px;">
       
         <h:outputLabel value="Eski Şifrenizi Giriniz :" />
         <p:password value="#{panel.eskisifre}"></p:password>
    </div>
    <div style="margin-top: 10px;">
         <h:outputLabel value="Yeni Şifrenizi Giriniz :" />
         <p:password value="#{panel.yenisifre}"></p:password>
    </div>
    <div style="margin-top:10px">
        <p:commandButton action="#{panel.sifredegistir()}" value="Değiştir"></p:commandButton>
    </div>
        </h:form>         
</p:tab>

<p:tab title="Hesabımı Sil">
    <p>Hesap silmek için Kullanıcı adı ve şifrenizi tekrar onaylamanız gerekir.</p>
    
    
    <h:form>
        <div style="margin-top: 10px">
             <h:outputLabel value="E-posta Adresinizi Giriniz :" />
             <p:inputText value="#{panel.email}"></p:inputText>
             
         </div>
    <div style="margin-top: 10px;">
       
         <h:outputLabel value="&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;Şifrenizi Giriniz :" />
         <p:password value="#{panel.eskisifre}"></p:password>
    </div>
 <p:commandButton type="button" value="Hesabımı Sil" onclick="PF('cd').show()" />
 <p:confirmDialog message="Hesabınızı Silmek İstediğinizden Emin Misiniz?"
header="Hesap Silme Süreci" severity="alert"
widgetVar="cd">
     <p:commandButton value="Evet,Eminim" action="#{panel.hesapSil()}"
 oncomplete="PF('cd').hide()"/>
 <p:commandButton value="Vazgeç" onclick="PF('cd').hide();" type="button" />
 </p:confirmDialog>
</h:form>
</p:tab>
</p:accordionPanel>

    </h:body>
</html>

